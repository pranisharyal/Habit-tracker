{% load static %}
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Habit Tracker</title>
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
</head>

<body class="bg-light py-4">
    <div class="container">
        <!-- Header and Buttons -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="h3">My Habits</h1>
            <div class="d-flex gap-2">
                <a href="{% url 'add-habit' %}" class="btn btn-primary">Add Habit</a>
                <a href="{% url 'view_streak' %}" class="btn btn-info text-white">View Streak</a>
                <a href="{% url 'view_charts' %}" class="btn btn-warning text-white">View Charts</a>
            </div>
        </div>

        <!-- Habit Cards -->
        <div class="row row-cols-1 row-cols-md-3 g-4">
            {% for habit in habits %}
            <div class="col">
                <div class="card h-100 shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">{{ habit.name }}</h5>
                        <p class="card-text">Streak: {{ habit.streak }}</p>
                        <p class="card-text">Last Marked: {{ habit.last_marked_date }}</p>

                        <div class="d-flex gap-2">
                            <!-- Mark as Done Button -->
                            <a href="{% url 'mark_done' habit.id %}" class="btn btn-success">Mark as Done</a>
                            <!-- Mark Undone Button -->
                            <a href="{% url 'mark_undone' habit.id %}" class="btn btn-secondary">Mark Undone</a>
                            <!-- Edit Button -->
                            <a href="{% url 'edit_habit' habit.id %}" class="btn btn-warning text-white">Edit</a>

                            <!-- Delete Button -->
                            <a href="{% url 'habit-delete' habit.id %}" class="btn btn-danger">Delete</a>
                        </div>
                    </div>
                </div>
            </div>
            {% empty %}
            <p>No habits added yet. Click "Add Habit" to get started!</p>
            {% endfor %}
        </div>
    </div>

    <script src="{% static 'js/bootstrap/bundle.min.js' %}"></script>
</body>

</html>